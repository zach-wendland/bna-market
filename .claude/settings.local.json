{
  "permissions": {
    "allow": [
      "Bash(python:*)",
      "WebSearch",
      "Bash(timeout 120 python:*)",
      "Bash(dir:*)",
      "Bash(test:*)",
      "Bash(cat:*)",
      "Bash(timeout 30 python:*)",
      "Bash(ls:*)",
      "Bash(git checkout:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nRefactor to package structure and remove unused SaaS layer\n\nThis commit completes the refactoring from flat directory structure to\na proper Python package and removes the entire SaaS layer that was\nadded but never used.\n\n## Major Changes\n\n### Package Structure Refactoring\n- Consolidated configuration into `src/bna_market/core/config.py`\n- Created new pipeline modules with cleaner naming:\n  - `for_sale.py` (was `forSale.py`)\n  - `rental.py` (was `rentalPipe.py`)  \n  - `fred_metrics.py` (was `otherMetricsPipe.py`)\n- Fixed import inconsistencies (all modules now use `core.config`)\n- Updated `__init__.py` files for proper module exports\n- Made `app.py` a deprecated wrapper with migration guidance\n\n### SaaS Layer Removal (~313 lines deleted)\n- Deleted `src/bna_market/web/auth.py` (authentication system)\n- Deleted `src/bna_market/web/billing.py` (Stripe webhooks)\n- Deleted `src/bna_market/web/decorators.py` (feature gating)\n- Removed auth/billing blueprint registrations\n- Removed SaaS config settings from config.py\n- Removed subscription decorators from API routes\n- Updated dependencies in pyproject.toml\n\n### Security Fixes\n- Eliminated CRITICAL Stripe webhook vulnerability (unvalidated payments)\n- Removed hardcoded default SECRET_KEY exposure\n- Removed unused authentication infrastructure\n- APIs are now public (appropriate for analytics dashboard)\n\n### Configuration Cleanup\n- Removed unused environment variables:\n  - SECRET_KEY, ENABLE_AUTH_CHECKS, SUBSCRIPTION_CHECKS_ENABLED\n  - STRIPE_API_KEY, STRIPE_PRICE_ID, STRIPE_WEBHOOK_SECRET\n  - CRON_TIME (no cron job exists)\n- Simplified to only required settings (API keys, database path)\n\n### Documentation\n- Added comprehensive MIGRATION.md guide\n- Documents breaking changes and migration path\n- Provides troubleshooting for common issues\n\n## Testing\n- âœ… Flask app creates successfully\n- âœ… API routes import without errors\n- âœ… ETL service and pipelines functional\n- âœ… CLI commands work (etl run, web serve)\n\n## Breaking Changes\n- API endpoints now public (no authentication required)\n- Import paths changed (e.g., `pipelines.forSale` â†’ `bna_market.pipelines`)\n- Old SaaS environment variables no longer used\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(gh pr create:*)",
      "Bash(git commit:*)",
      "Bash(timeout 3 python:*)",
      "Bash(.git/hooks/pre-commit)",
      "Bash(timeout 5 python:*)",
      "Bash(find:*)",
      "Bash(curl:*)",
      "Bash(timeout 5 bash:*)",
      "Bash(timeout 10 bash -c:*)",
      "Bash(tasklist:*)",
      "Bash(findstr:*)",
      "Bash(taskkill:*)",
      "Bash(git remote:*)",
      "Bash(git pull:*)",
      "Bash(git cherry-pick:*)",
      "Bash(git branch:*)",
      "Bash(git rm:*)",
      "Bash(tree:*)",
      "Bash(pip install:*)",
      "Bash(pytest:*)",
      "Bash(del nul)",
      "Bash(rm:*)",
      "Bash(sqlite3:*)",
      "Bash(grep:*)",
      "Bash(wc:*)",
      "Bash(npm install:*)",
      "Bash(npx tsx:*)",
      "Bash(netstat:*)",
      "Bash(npm rebuild:*)",
      "Bash(npm uninstall:*)",
      "Bash(npm run dev:*)",
      "Bash(timeout:*)",
      "Bash(npx vue-tsc:*)",
      "Bash(powershell -Command:*)",
      "Bash(where:*)",
      "Bash(npm run build:*)",
      "Bash(du:*)",
      "Bash(git gc:*)",
      "Bash(git merge:*)",
      "Bash(git stash:*)",
      "Bash(git stash pop:*)",
      "WebFetch(domain:bna-market.vercel.app)",
      "Bash(ping:*)",
      "WebFetch(domain:bna-market-zach-wendlands-projects.vercel.app)",
      "WebFetch(domain:bna-market-git-main-zach-wendlands-projects.vercel.app)"
    ],
    "deny": [],
    "ask": []
  }
}
